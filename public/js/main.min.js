document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const e=document.querySelector(".main-container");e&&(e.style.opacity="0",e.style.transition="opacity 0.5s ease-in-out",setTimeout(()=>{e.style.opacity="1"},50));const s=document.querySelectorAll("a");s.forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transition="all 0.2s ease-in-out"})});const o=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("theme");t==="light"?document.body.classList.add("light-theme"):t==="dark"?document.body.classList.add("dark-theme"):o.matches&&document.body.classList.add("dark-theme");const n=document.querySelector("footer");if(n){const e=document.createElement("div");e.className="theme-toggle",e.innerHTML=`
      <button id="theme-toggle" aria-label="Toggle dark/light theme">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>
    `,n.appendChild(e);const t=document.getElementById("theme-toggle");t&&t.addEventListener("click",()=>{document.body.classList.toggle("light-theme"),document.body.classList.contains("light-theme")?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark")})}const i=document.querySelectorAll("pre code");if(i.length>0){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js",e.onload=()=>{hljs.highlightAll()},document.head.appendChild(e);const t=document.createElement("link");t.rel="stylesheet",t.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css",document.head.appendChild(t)}});function calculateReadingTime(){const n=document.querySelector(".main-container");if(!n)return;const s=n.textContent,o=s.split(/\s+/).length,i=Math.ceil(o/200),t=document.createElement("div");t.className="reading-time",t.innerHTML=`<span>${i} min read</span>`;const e=document.querySelector("h1");e&&e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}window.location.pathname.includes("/blog/")&&document.addEventListener("DOMContentLoaded",calculateReadingTime)